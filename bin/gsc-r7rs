#!/usr/bin/sh
SCRIPTPATH=`dirname $0`

args=()

case "$1" in
  -:*)
    args=[${#args[@]}]=$1
    shift
    ;;
esac

case "$1" in
  -exe|-c)
    args[${#args[@]}]=$1
    shift
    ;;
esac

case "$1" in
  -expansion)
    args[${#args[@]}]=$1
    shift
    ;;
esac

case "$1" in
  -o)
    args[${#args[@]}]=$1
    args[${#args[@]}]=$2
    shift 2
    ;;
esac

gsc-script ${args[@]} -e '(##load "~~lib/define-library" (lambda (script-path script-name) #f) #f #t #f)' -prelude '(##require-module "~~lib/define-library")' $@
unset args
